{"ast":null,"code":"import React from\"react\";import{useStore,actionType}from\"../../store\";import hangoutImage from\"../../assets/image/hangout.png\";import callImage from\"../../assets/image/call.png\";import{useHistory}from\"react-router-dom\";import config from\"../../config\";import style from\"./index.module.scss\";var CallPage=function CallPage(){var history=useHistory();var _useStore=useStore(),state=_useStore.state,dispatch=_useStore.dispatch;var pageIndex=state.pageIndex;var total=config.total,avatarHint=config.avatarHint;var imageAssets=function(){var assets=[];for(var i=0;i<total;i++){assets.push(require(\"../../assets/image/\".concat(i,\".png\")));}return assets;}();var callAudio=require(\"../../assets/audio/call.mp3\");var handleHangoutClick=function handleHangoutClick(e){e.stopPropagation();dispatch({type:actionType.NEXT_PAGE,payload:{}});history.push(\"/desktop\");};var handleCallClick=function handleCallClick(e){e.stopPropagation();history.push(\"/play\");};return/*#__PURE__*/React.createElement(\"div\",{className:style.call_container},/*#__PURE__*/React.createElement(\"div\",{className:style.avatar_box},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(style.avatar,\" \").concat(style[\"avatar_\".concat(pageIndex)]),style:{backgroundImage:\"url(\".concat(imageAssets[pageIndex],\")\")}}),/*#__PURE__*/React.createElement(\"h1\",null,avatarHint[pageIndex]),/*#__PURE__*/React.createElement(\"p\",{className:style.bounce_dots},\"\\u9080\\u8BF7\\u4F60\\u8FDB\\u884C\\u89C6\\u9891\\u901A\\u8BDD\",/*#__PURE__*/React.createElement(\"span\",null,\"...\"))),/*#__PURE__*/React.createElement(\"div\",{className:style.call_box},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:callImage,alt:\"call\",onClick:handleCallClick})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:hangoutImage,alt:\"hangout\",onClick:handleHangoutClick}))),/*#__PURE__*/React.createElement(\"audio\",{src:callAudio,autoPlay:true,loop:true}));};export default CallPage;","map":{"version":3,"sources":["/Users/jonsam/Projects/update_in_github/2020-year-end/src/components/call/index.tsx"],"names":["React","useStore","actionType","hangoutImage","callImage","useHistory","config","style","CallPage","history","state","dispatch","pageIndex","total","avatarHint","imageAssets","assets","i","push","require","callAudio","handleHangoutClick","e","stopPropagation","type","NEXT_PAGE","payload","handleCallClick","call_container","avatar_box","avatar","backgroundImage","bounce_dots","call_box"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAA0B,OAA1B,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,aAArC,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CAEA,GAAMC,CAAAA,QAAY,CAAG,QAAfA,CAAAA,QAAe,EAAM,CACzB,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CADyB,cAEGJ,QAAQ,EAFX,CAEjBS,KAFiB,WAEjBA,KAFiB,CAEVC,QAFU,WAEVA,QAFU,IAGjBC,CAAAA,SAHiB,CAGHF,KAHG,CAGjBE,SAHiB,IAIjBC,CAAAA,KAJiB,CAIKP,MAJL,CAIjBO,KAJiB,CAIVC,UAJU,CAIKR,MAJL,CAIVQ,UAJU,CAMzB,GAAMC,CAAAA,WAAW,CAAI,UAAM,CACzB,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGJ,KAApB,CAA2BI,CAAC,EAA5B,CAAgC,CAC9BD,MAAM,CAACE,IAAP,CAAYC,OAAO,8BAAuBF,CAAvB,SAAnB,EACD,CACD,MAAOD,CAAAA,MAAP,CACD,CANmB,EAApB,CAQA,GAAMI,CAAAA,SAAS,CAAGD,OAAO,CAAC,6BAAD,CAAzB,CAEA,GAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,CAAD,CAAY,CACrCA,CAAC,CAACC,eAAF,GACAZ,QAAQ,CAAC,CAAEa,IAAI,CAAEtB,UAAU,CAACuB,SAAnB,CAA8BC,OAAO,CAAE,EAAvC,CAAD,CAAR,CACAjB,OAAO,CAACS,IAAR,CAAa,UAAb,EACD,CAJD,CAMA,GAAMS,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACL,CAAD,CAAY,CAClCA,CAAC,CAACC,eAAF,GACAd,OAAO,CAACS,IAAR,CAAa,OAAb,EACD,CAHD,CAKA,mBACE,2BAAK,SAAS,CAAEX,KAAK,CAACqB,cAAtB,eACE,2BAAK,SAAS,CAAErB,KAAK,CAACsB,UAAtB,eACE,2BACE,SAAS,WAAKtB,KAAK,CAACuB,MAAX,aAAqBvB,KAAK,kBAAWK,SAAX,EAA1B,CADX,CAEE,KAAK,CAAE,CACLmB,eAAe,eAAShB,WAAW,CAACH,SAAD,CAApB,KADV,CAFT,EADF,cAOE,8BAAKE,UAAU,CAACF,SAAD,CAAf,CAPF,cAQE,yBAAG,SAAS,CAAEL,KAAK,CAACyB,WAApB,wEAA0C,sCAA1C,CARF,CADF,cAWE,2BAAK,SAAS,CAAEzB,KAAK,CAAC0B,QAAtB,eACE,4CACE,2BAAK,GAAG,CAAE7B,SAAV,CAAqB,GAAG,CAAC,MAAzB,CAAgC,OAAO,CAAEuB,eAAzC,EADF,CADF,cAIE,4CACE,2BAAK,GAAG,CAAExB,YAAV,CAAwB,GAAG,CAAC,SAA5B,CAAsC,OAAO,CAAEkB,kBAA/C,EADF,CAJF,CAXF,cAmBE,6BAAO,GAAG,CAAED,SAAZ,CAAuB,QAAQ,CAAE,IAAjC,CAAuC,IAAI,CAAE,IAA7C,EAnBF,CADF,CAuBD,CAlDD,CAoDA,cAAeZ,CAAAA,QAAf","sourcesContent":["import React, { FC } from \"react\";\nimport { useStore, actionType } from \"../../store\";\nimport hangoutImage from \"../../assets/image/hangout.png\";\nimport callImage from \"../../assets/image/call.png\";\nimport { useHistory } from \"react-router-dom\";\nimport config from \"../../config\";\nimport style from \"./index.module.scss\";\n\nconst CallPage: FC = () => {\n  const history = useHistory();\n  const { state, dispatch } = useStore();\n  const { pageIndex } = state;\n  const { total, avatarHint } = config;\n\n  const imageAssets = (() => {\n    const assets = [];\n    for (let i = 0; i < total; i++) {\n      assets.push(require(`../../assets/image/${i}.png`));\n    }\n    return assets;\n  })();\n\n  const callAudio = require(\"../../assets/audio/call.mp3\");\n\n  const handleHangoutClick = (e: any) => {\n    e.stopPropagation();\n    dispatch({ type: actionType.NEXT_PAGE, payload: {} });\n    history.push(\"/desktop\");\n  };\n\n  const handleCallClick = (e: any) => {\n    e.stopPropagation();\n    history.push(\"/play\");\n  };\n\n  return (\n    <div className={style.call_container}>\n      <div className={style.avatar_box}>\n        <div\n          className={`${style.avatar} ${style[`avatar_${pageIndex}`]}`}\n          style={{\n            backgroundImage: `url(${imageAssets[pageIndex]})`,\n          }}\n        />\n        <h1>{avatarHint[pageIndex]}</h1>\n        <p className={style.bounce_dots}>邀请你进行视频通话<span>...</span></p>\n      </div>\n      <div className={style.call_box}>\n        <div>\n          <img src={callImage} alt=\"call\" onClick={handleCallClick} />\n        </div>\n        <div>\n          <img src={hangoutImage} alt=\"hangout\" onClick={handleHangoutClick} />\n        </div>\n      </div>\n      <audio src={callAudio} autoPlay={true} loop={true}/>\n    </div>\n  );\n};\n\nexport default CallPage;\n"]},"metadata":{},"sourceType":"module"}