{"ast":null,"code":"import _toConsumableArray from\"/Users/jonsam/Projects/update_in_github/2020-year-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/jonsam/Projects/update_in_github/2020-year-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{currentTime}from\"../../utils\";import style from\"./index.module.scss\";var LockPage=function LockPage(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showKeyboard=_useState2[0],setShowKeyboard=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setPass=_useState4[1];var _currentTime=currentTime(),time=_currentTime.time,date=_currentTime.date,day=_currentTime.day;var getActiveClass=function getActiveClass(idx){return pass.length>=idx+1?style.active:\"\";};var keyboardMap=[{no:\"1\",term:\"\"},{no:\"2\",term:\"ABC\"},{no:\"3\",term:\"DEF\"},{no:\"4\",term:\"GHI\"},{no:\"5\",term:\"JKL\"},{no:\"6\",term:\"MNO\"},{no:\"7\",term:\"PQRS\"},{no:\"8\",term:\"TUV\"},{no:\"9\",term:\"WXYZ\"},{no:\"0\",term:\"\"}];useEffect(function(){console.log(\"==>\",{pass:pass});},[pass]);var handleDelete=function handleDelete(e){e.stopPropagation();if(!pass.length&&showKeyboard){console.log(\"==>\",111);setShowKeyboard(false);return;}setPass(pass.join(\"\").slice(0,-1).split(\"\"));};return/*#__PURE__*/React.createElement(\"div\",{className:style.lock_container,onClick:function onClick(e){e.stopPropagation();setShowKeyboard(true);}},!showKeyboard&&/*#__PURE__*/React.createElement(\"div\",{className:style.lock_screen},/*#__PURE__*/React.createElement(\"div\",{className:style.lock_title},/*#__PURE__*/React.createElement(\"h1\",null,time),/*#__PURE__*/React.createElement(\"h2\",null,date),/*#__PURE__*/React.createElement(\"h3\",null,day)),/*#__PURE__*/React.createElement(\"div\",{className:style.lock_card},/*#__PURE__*/React.createElement(\"div\",{className:style.card_header},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:\"\",alt:\"\",srcSet:\"\"}),/*#__PURE__*/React.createElement(\"span\",null,\"\\u4EBA\\u6C11\\u5165\\u4FDD\\u653E\\u5047\\u5BA2\\u670D \")),/*#__PURE__*/React.createElement(\"span\",null,\"\\u521A\\u521A\")),/*#__PURE__*/React.createElement(\"p\",null,\"\\u9E64\\u9AA8\\u9E21\\u80A4\\u5F00\\u653E\\u540E\\u5373\\u53EF\\u5676\\u79D1\\u6280\\u80A1\\u4EFD\\u53EF\\u9AD8\\u79D1\\u6280\\u798F\\u5EFA\\u5BA2\\u6237\\u9F13\\u98CE\\u673A\\u597D\\u5C2C\\u63A5\\u53E3\\u89C4\\u8303\\u6362\\u4E2A\\u79EF\\u5206\\u5361\\u560E\\u5496\\u5561\\u673A\\u597D\\u673A\\u4F1A\\u5382\\u5BB6\\u53D1\\u8D27\\u6B3E\")),/*#__PURE__*/React.createElement(\"div\",{className:style.lock_trigger},/*#__PURE__*/React.createElement(\"p\",{className:style.lock_hint},\"\\u5411\\u4E0A\\u6ED1\\u5C4F\\u4EE5\\u89E3\\u9501\"),/*#__PURE__*/React.createElement(\"div\",{className:style.lock_arrow},/*#__PURE__*/React.createElement(\"div\",{className:style.arrow_ani}),/*#__PURE__*/React.createElement(\"div\",{className:style.arrow_ani})))),showKeyboard&&/*#__PURE__*/React.createElement(\"div\",{className:style.lock_keyboard},/*#__PURE__*/React.createElement(\"div\",{className:style.input_pass},/*#__PURE__*/React.createElement(\"p\",null,\"\\u8BF7\\u8F93\\u5165\\u5BC6\\u78012020\"),/*#__PURE__*/React.createElement(\"ul\",null,[0,1,2,3].map(function(idx){return/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(style.pass_dot,\" \").concat(getActiveClass(idx)),key:idx});}))),/*#__PURE__*/React.createElement(\"div\",{className:style.visual_keyboard},keyboardMap.map(function(_ref){var no=_ref.no,term=_ref.term;return/*#__PURE__*/React.createElement(\"div\",{className:style.board_item,key:no,onClick:function onClick(){return setPass(function(){var p=[].concat(_toConsumableArray(pass),[no]);if(p.length>=4){p=[];}return p;});}},/*#__PURE__*/React.createElement(\"span\",null,no),/*#__PURE__*/React.createElement(\"span\",null,term));})),/*#__PURE__*/React.createElement(\"div\",{className:style.opt_panel},/*#__PURE__*/React.createElement(\"span\",null,\"\\u7D27\\u6025\\u547C\\u53EB\"),/*#__PURE__*/React.createElement(\"span\",{onClick:handleDelete},pass.length?\"删除\":\"返回\"))));};export default LockPage;","map":{"version":3,"sources":["/Users/jonsam/Projects/update_in_github/2020-year-end/src/components/lock/index.tsx"],"names":["React","useState","useEffect","currentTime","style","LockPage","showKeyboard","setShowKeyboard","pass","setPass","time","date","day","getActiveClass","idx","length","active","keyboardMap","no","term","console","log","handleDelete","e","stopPropagation","join","slice","split","lock_container","lock_screen","lock_title","lock_card","card_header","lock_trigger","lock_hint","lock_arrow","arrow_ani","lock_keyboard","input_pass","map","pass_dot","visual_keyboard","board_item","p","opt_panel"],"mappings":"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","sourcesContent":["import React, { FC, useState, useEffect } from \"react\";\nimport { currentTime } from \"../../utils\";\nimport style from \"./index.module.scss\";\n\nconst LockPage: FC = () => {\n  const [showKeyboard, setShowKeyboard] = useState<boolean>(false);\n  const [pass, setPass] = useState<string[]>([]);\n  const { time, date, day } = currentTime();\n\n  const getActiveClass = (idx: number) =>\n    pass.length >= idx + 1 ? style.active : \"\";\n  const keyboardMap = [\n    {\n      no: \"1\",\n      term: \"\",\n    },\n    {\n      no: \"2\",\n      term: \"ABC\",\n    },\n    {\n      no: \"3\",\n      term: \"DEF\",\n    },\n    {\n      no: \"4\",\n      term: \"GHI\",\n    },\n    {\n      no: \"5\",\n      term: \"JKL\",\n    },\n    {\n      no: \"6\",\n      term: \"MNO\",\n    },\n    {\n      no: \"7\",\n      term: \"PQRS\",\n    },\n    {\n      no: \"8\",\n      term: \"TUV\",\n    },\n    {\n      no: \"9\",\n      term: \"WXYZ\",\n    },\n    {\n      no: \"0\",\n      term: \"\",\n    },\n  ];\n  useEffect(() => {\n    console.log(\"==>\", { pass });\n  }, [pass]);\n\n  const handleDelete = (e: any) => {\n    e.stopPropagation();\n    if (!pass.length && showKeyboard) {\n      console.log(\"==>\", 111);\n      setShowKeyboard(false);\n      return;\n    }\n    setPass(pass.join(\"\").slice(0, -1).split(\"\"));\n  };\n\n  return (\n    <div\n      className={style.lock_container}\n      onClick={(e) => {\n        e.stopPropagation();\n        setShowKeyboard(true);\n      }}\n    >\n      {!showKeyboard && (\n        <div className={style.lock_screen}>\n          <div className={style.lock_title}>\n            <h1>{time}</h1>\n            <h2>{date}</h2>\n            <h3>{day}</h3>\n          </div>\n          <div className={style.lock_card}>\n            <div className={style.card_header}>\n              <div>\n                <img src=\"\" alt=\"\" srcSet=\"\" />\n                <span>人民入保放假客服 </span>\n              </div>\n              <span>刚刚</span>\n            </div>\n            <p>\n              鹤骨鸡肤开放后即可噶科技股份可高科技福建客户鼓风机好尬接口规范换个积分卡嘎咖啡机好机会厂家发货款\n            </p>\n          </div>\n          <div className={style.lock_trigger}>\n            <p className={style.lock_hint}>向上滑屏以解锁</p>\n            <div className={style.lock_arrow}>\n              <div className={style.arrow_ani} />\n              <div className={style.arrow_ani} />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showKeyboard && (\n        <div className={style.lock_keyboard}>\n          <div className={style.input_pass}>\n            <p>请输入密码2020</p>\n            <ul>\n              {[0, 1, 2, 3].map((idx) => (\n                <li\n                  className={`${style.pass_dot} ${getActiveClass(idx)}`}\n                  key={idx}\n                />\n              ))}\n            </ul>\n          </div>\n          <div className={style.visual_keyboard}>\n            {keyboardMap.map(({ no, term }) => (\n              <div\n                className={style.board_item}\n                key={no}\n                onClick={() =>\n                  setPass(() => {\n                    let p = [...pass, no];\n                    if (p.length >= 4) {\n                      p = [];\n                    }\n                    return p;\n                  })\n                }\n              >\n                <span>{no}</span>\n                <span>{term}</span>\n              </div>\n            ))}\n          </div>\n          <div className={style.opt_panel}>\n            <span>紧急呼叫</span>\n            <span onClick={handleDelete}>{pass.length ? \"删除\" : \"返回\"}</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LockPage;\n"]},"metadata":{},"sourceType":"module"}