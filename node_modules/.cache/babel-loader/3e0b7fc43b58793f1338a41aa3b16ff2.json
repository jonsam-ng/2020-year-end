{"ast":null,"code":"import React from\"react\";import{useStore,actionType}from\"../../store\";import hangoutImage from\"../../assets/image/hangout.png\";import callImage from\"../../assets/image/call.png\";import{useHistory}from\"react-router-dom\";import config from\"../../config\";import style from\"./index.module.scss\";var CallPage=function CallPage(){var history=useHistory();var _useStore=useStore(),state=_useStore.state,dispatch=_useStore.dispatch;var pageIndex=state.pageIndex;var avatarHint=config.avatarHint,cdnUrl=config.cdnUrl;var handleHangoutClick=function handleHangoutClick(e){e.stopPropagation();dispatch({type:actionType.NEXT_PAGE,payload:{}});history.push(\"/desktop\");};var handleCallClick=function handleCallClick(e){e.stopPropagation();history.push(\"/play\");};return/*#__PURE__*/React.createElement(\"div\",{className:style.call_container},/*#__PURE__*/React.createElement(\"div\",{className:style.avatar_box},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(style.avatar,\" \").concat(style[\"avatar_\".concat(pageIndex)]),style:{backgroundImage:\"url(\".concat(cdnUrl+\"/\"+pageIndex+\".png\",\")\")}}),/*#__PURE__*/React.createElement(\"h1\",null,avatarHint[pageIndex]),/*#__PURE__*/React.createElement(\"p\",{className:style.bounce_dots},\"\\u9080\\u8BF7\\u4F60\\u8FDB\\u884C\\u89C6\\u9891\\u901A\\u8BDD\",/*#__PURE__*/React.createElement(\"span\",null,\"...\"))),/*#__PURE__*/React.createElement(\"div\",{className:style.call_box},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:hangoutImage,alt:\"hangout\",onClick:handleHangoutClick})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:callImage,alt:\"call\",onClick:handleCallClick}))),/*#__PURE__*/React.createElement(\"audio\",{src:\"\".concat(cdnUrl,\"/call.mp3\"),autoPlay:true,loop:true}));};export default CallPage;","map":{"version":3,"sources":["/Users/jonsam/Projects/update_in_github/2020-year-end/src/components/call/index.tsx"],"names":["React","useStore","actionType","hangoutImage","callImage","useHistory","config","style","CallPage","history","state","dispatch","pageIndex","avatarHint","cdnUrl","handleHangoutClick","e","stopPropagation","type","NEXT_PAGE","payload","push","handleCallClick","call_container","avatar_box","avatar","backgroundImage","bounce_dots","call_box"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAA0B,OAA1B,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,aAArC,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CAEA,GAAMC,CAAAA,QAAY,CAAG,QAAfA,CAAAA,QAAe,EAAM,CACzB,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CADyB,cAEGJ,QAAQ,EAFX,CAEjBS,KAFiB,WAEjBA,KAFiB,CAEVC,QAFU,WAEVA,QAFU,IAGjBC,CAAAA,SAHiB,CAGHF,KAHG,CAGjBE,SAHiB,IAIjBC,CAAAA,UAJiB,CAIMP,MAJN,CAIjBO,UAJiB,CAILC,MAJK,CAIMR,MAJN,CAILQ,MAJK,CAMzB,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,CAAD,CAAY,CACrCA,CAAC,CAACC,eAAF,GACAN,QAAQ,CAAC,CAAEO,IAAI,CAAEhB,UAAU,CAACiB,SAAnB,CAA8BC,OAAO,CAAE,EAAvC,CAAD,CAAR,CACAX,OAAO,CAACY,IAAR,CAAa,UAAb,EACD,CAJD,CAMA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACN,CAAD,CAAY,CAClCA,CAAC,CAACC,eAAF,GACAR,OAAO,CAACY,IAAR,CAAa,OAAb,EACD,CAHD,CAKA,mBACE,2BAAK,SAAS,CAAEd,KAAK,CAACgB,cAAtB,eACE,2BAAK,SAAS,CAAEhB,KAAK,CAACiB,UAAtB,eACE,2BACE,SAAS,WAAKjB,KAAK,CAACkB,MAAX,aAAqBlB,KAAK,kBAAWK,SAAX,EAA1B,CADX,CAEE,KAAK,CAAE,CACLc,eAAe,eAASZ,MAAM,CAAG,GAAT,CAAeF,SAAf,CAA2B,MAApC,KADV,CAFT,EADF,cAOE,8BAAKC,UAAU,CAACD,SAAD,CAAf,CAPF,cAQE,yBAAG,SAAS,CAAEL,KAAK,CAACoB,WAApB,wEACW,sCADX,CARF,CADF,cAaE,2BAAK,SAAS,CAAEpB,KAAK,CAACqB,QAAtB,eACE,4CACE,2BAAK,GAAG,CAAEzB,YAAV,CAAwB,GAAG,CAAC,SAA5B,CAAsC,OAAO,CAAEY,kBAA/C,EADF,CADF,cAIE,4CACE,2BAAK,GAAG,CAAEX,SAAV,CAAqB,GAAG,CAAC,MAAzB,CAAgC,OAAO,CAAEkB,eAAzC,EADF,CAJF,CAbF,cAqBE,6BAAO,GAAG,WAAKR,MAAL,aAAV,CAAkC,QAAQ,CAAE,IAA5C,CAAkD,IAAI,CAAE,IAAxD,EArBF,CADF,CAyBD,CA1CD,CA4CA,cAAeN,CAAAA,QAAf","sourcesContent":["import React, { FC } from \"react\";\nimport { useStore, actionType } from \"../../store\";\nimport hangoutImage from \"../../assets/image/hangout.png\";\nimport callImage from \"../../assets/image/call.png\";\nimport { useHistory } from \"react-router-dom\";\nimport config from \"../../config\";\nimport style from \"./index.module.scss\";\n\nconst CallPage: FC = () => {\n  const history = useHistory();\n  const { state, dispatch } = useStore();\n  const { pageIndex } = state;\n  const { avatarHint, cdnUrl } = config;\n\n  const handleHangoutClick = (e: any) => {\n    e.stopPropagation();\n    dispatch({ type: actionType.NEXT_PAGE, payload: {} });\n    history.push(\"/desktop\");\n  };\n\n  const handleCallClick = (e: any) => {\n    e.stopPropagation();\n    history.push(\"/play\");\n  };\n\n  return (\n    <div className={style.call_container}>\n      <div className={style.avatar_box}>\n        <div\n          className={`${style.avatar} ${style[`avatar_${pageIndex}`]}`}\n          style={{\n            backgroundImage: `url(${cdnUrl + \"/\" + pageIndex + \".png\"})`,\n          }}\n        />\n        <h1>{avatarHint[pageIndex]}</h1>\n        <p className={style.bounce_dots}>\n          邀请你进行视频通话<span>...</span>\n        </p>\n      </div>\n      <div className={style.call_box}>\n        <div>\n          <img src={hangoutImage} alt=\"hangout\" onClick={handleHangoutClick} />\n        </div>\n        <div>\n          <img src={callImage} alt=\"call\" onClick={handleCallClick} />\n        </div>\n      </div>\n      <audio src={`${cdnUrl}/call.mp3`} autoPlay={true} loop={true} />\n    </div>\n  );\n};\n\nexport default CallPage;\n"]},"metadata":{},"sourceType":"module"}