{"ast":null,"code":"import React from\"react\";import{useStore,actionType}from\"../../store\";import{useHistory}from\"react-router-dom\";import hangoutImage from\"../../assets/image/hangout.png\";import config from\"../../config\";import style from\"./index.module.scss\";var video=require(\"../../assets/video/0.mp4\");var PlayPage=function PlayPage(){var history=useHistory();var _useStore=useStore(),state=_useStore.state,dispatch=_useStore.dispatch;var pageIndex=state.pageIndex;var total=config.total;var videoAssets=function(){var assets=[];for(var i=0;i<total;i++){assets.push(require(\"../../assets/video/\".concat(i,\".mp4\")));}return assets;}();var handleHangoutClick=function handleHangoutClick(e){e.stopPropagation();dispatch({type:actionType.NEXT_PAGE,payload:{}});history.push(\"/call\");};return/*#__PURE__*/React.createElement(\"div\",{className:style.play_container},/*#__PURE__*/React.createElement(\"div\",{className:style.play_wrapper},console.log('==>',videoAssets,videoAssets[pageIndex],pageIndex),/*#__PURE__*/React.createElement(\"video\",{src:videoAssets[pageIndex],autoPlay:true,controls:false,onEnded:handleHangoutClick})),/*#__PURE__*/React.createElement(\"div\",{className:style.hangout_box},/*#__PURE__*/React.createElement(\"img\",{src:hangoutImage,alt:\"hangout\",onClick:handleHangoutClick})));};export default PlayPage;","map":{"version":3,"sources":["/Users/jonsam/Projects/update_in_github/2020-year-end/src/components/play/index.tsx"],"names":["React","useStore","actionType","useHistory","hangoutImage","config","style","video","require","PlayPage","history","state","dispatch","pageIndex","total","videoAssets","assets","i","push","handleHangoutClick","e","stopPropagation","type","NEXT_PAGE","payload","play_container","play_wrapper","console","log","hangout_box"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAA0B,OAA1B,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,aAArC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,GAAMC,CAAAA,KAAK,CAAGC,OAAO,CAAC,0BAAD,CAArB,CAEA,GAAMC,CAAAA,QAAY,CAAG,QAAfA,CAAAA,QAAe,EAAM,CACzB,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CADyB,cAEGF,QAAQ,EAFX,CAEjBU,KAFiB,WAEjBA,KAFiB,CAEVC,QAFU,WAEVA,QAFU,IAGjBC,CAAAA,SAHiB,CAGHF,KAHG,CAGjBE,SAHiB,IAIjBC,CAAAA,KAJiB,CAIPT,MAJO,CAIjBS,KAJiB,CAMzB,GAAMC,CAAAA,WAAW,CAAI,UAAM,CACzB,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGH,KAApB,CAA2BG,CAAC,EAA5B,CAAgC,CAC9BD,MAAM,CAACE,IAAP,CAAYV,OAAO,8BAAuBS,CAAvB,SAAnB,EACD,CACD,MAAOD,CAAAA,MAAP,CACD,CANmB,EAApB,CAQA,GAAMG,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,CAAD,CAAY,CACrCA,CAAC,CAACC,eAAF,GACAT,QAAQ,CAAC,CAAEU,IAAI,CAAEpB,UAAU,CAACqB,SAAnB,CAA8BC,OAAO,CAAE,EAAvC,CAAD,CAAR,CACAd,OAAO,CAACQ,IAAR,CAAa,OAAb,EACD,CAJD,CAMA,mBACE,2BAAK,SAAS,CAAEZ,KAAK,CAACmB,cAAtB,eACE,2BAAK,SAAS,CAAEnB,KAAK,CAACoB,YAAtB,EACGC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBb,WAAnB,CAAgCA,WAAW,CAACF,SAAD,CAA3C,CAAwDA,SAAxD,CADH,cAEE,6BACE,GAAG,CAAEE,WAAW,CAACF,SAAD,CADlB,CAEE,QAAQ,CAAE,IAFZ,CAGE,QAAQ,CAAE,KAHZ,CAIE,OAAO,CAAEM,kBAJX,EAFF,CADF,cAUE,2BAAK,SAAS,CAAEb,KAAK,CAACuB,WAAtB,eACE,2BAAK,GAAG,CAAEzB,YAAV,CAAwB,GAAG,CAAC,SAA5B,CAAsC,OAAO,CAAEe,kBAA/C,EADF,CAVF,CADF,CAgBD,CApCD,CAsCA,cAAeV,CAAAA,QAAf","sourcesContent":["import React, { FC } from \"react\";\nimport { useStore, actionType } from \"../../store\";\nimport { useHistory } from \"react-router-dom\";\nimport hangoutImage from \"../../assets/image/hangout.png\";\nimport config from \"../../config\";\nimport style from \"./index.module.scss\";\nconst video = require(\"../../assets/video/0.mp4\");\n\nconst PlayPage: FC = () => {\n  const history = useHistory();\n  const { state, dispatch } = useStore();\n  const { pageIndex } = state;\n  const { total } = config;\n\n  const videoAssets = (() => {\n    const assets = [];\n    for (let i = 0; i < total; i++) {\n      assets.push(require(`../../assets/video/${i}.mp4`));\n    }\n    return assets;\n  })();\n\n  const handleHangoutClick = (e: any) => {\n    e.stopPropagation();\n    dispatch({ type: actionType.NEXT_PAGE, payload: {} });\n    history.push(\"/call\");\n  };\n\n  return (\n    <div className={style.play_container}>\n      <div className={style.play_wrapper}>\n        {console.log('==>', videoAssets, videoAssets[pageIndex], pageIndex)}\n        <video\n          src={videoAssets[pageIndex]}\n          autoPlay={true}\n          controls={false}\n          onEnded={handleHangoutClick}\n        />\n      </div>\n      <div className={style.hangout_box}>\n        <img src={hangoutImage} alt=\"hangout\" onClick={handleHangoutClick} />\n      </div>\n    </div>\n  );\n};\n\nexport default PlayPage;\n"]},"metadata":{},"sourceType":"module"}